#build container
 docker run --gpus all -it --name nhattung -v /f/tung/dn1:/app nvcr.io/nvidia/pytorch:22.07-py3

#workspace
docker container exec -it <id> bash 

#on/off
docker container start/stop <id>

#see the process
top


#commit container + push docker hub

docker commit <container_id> <imagename>:<tag>


Làm việc với container

- Chạy 1 container từ image
 docker run --privileged -d -p 80:80 [Image Name] /sbin/init
docker run --privileged -d -p 80:80 centos:7 /sbin/init

- Vào container để chạy lệnh
docker exec -it [Container ID] /bin/bash 

- Cài đặt apache
yum -y install httpd
systemctl start httpd
systemctl enable httpd

echo "Hello Tin Hoc That La Don Gian" } /var/www/html/index.html

- Thoát ra khỏi container
exit

- Tạo image để triển khai cho máy khác
docker commit -m "Comment" -a "Tác giả"  [Container ID] [Image Name]
docker commit -m "Centos Project01" -a "Nguyen Quoc Bao" d452f1a1b69d tinhocthatladongian/project01:v1

- Đăng nhập vào docker/hub
docker login

- Đưa image lên docker hup để mọi người cùng sử dụng
docker push [Tên image]
docker push tinhocthatladongian/project01:v1
 
- Check các container đang chạy
sudo docker ps -a

- Xem trạng thái container
docker container ls -a

- Xóa containner
sudo docker rm [Container ID]

- Stop container
docker container stop [Container ID]

- Restart container
docker container restart [Container ID]

- Pause container
docker container pause  [Container ID]

- Truy cập vào các container đang chạy
docker container attach [Container ID]


- Lệnh stop toàn bộ container
docker stop $(docker ps -a -q)

- Lệnh xóa toàn bộ container
docker rm $(docker ps -a -q)

- Lệnh xóa toàn bộ image
docker rmi -f $(docker images -a -q)